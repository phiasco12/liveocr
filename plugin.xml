<?xml version="1.0" encoding="UTF-8"?>
<plugin id="com.example.stablecamera" version="1.0.0"
        xmlns="http://apache.org/cordova/ns/plugins/1.0">

  <name>StableCamera</name>
  <description>Cordova Plugin for stable camera frame detection</description>
  <license>Apache 2.0</license>
  <keywords>cordova, plugin, camera, stable, frames</keywords>
  <engine name="cordova" version=">=9.0.0" />

  <js-module src="www/stablecamera.js" name="StableCamera">
    <clobbers target="window.StableCamera" />
  </js-module>

  <platform name="android">
    <!-- permissions -->
    <config-file target="AndroidManifest.xml" parent="/*">
      <uses-permission android:name="android.permission.CAMERA" />
    </config-file>

    <!-- expose native class to Cordova -->
    <config-file target="res/xml/config.xml" parent="/*">
      <feature name="StableCamera">
        <param name="android-package" value="com.example.stablecamera.StableCamera" />
      </feature>
    </config-file>

    <!-- register activity -->
    <config-file target="AndroidManifest.xml" parent="/manifest/application">
      <activity
        android:name="com.example.stablecamera.CameraActivity"
        android:exported="true"
        android:theme="@android:style/Theme.Black.NoTitleBar.Fullscreen"
        android:screenOrientation="portrait" />
    </config-file>

    <!-- source files -->
    <source-file src="src/android/com/example/stablecamera/StableCamera.java"
                 target-dir="src/com/example/stablecamera" />
    <source-file src="src/android/com/example/stablecamera/CameraActivity.java"
                 target-dir="src/com/example/stablecamera" />
  </platform>

</plugin>
