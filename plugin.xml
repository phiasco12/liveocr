<?xml version="1.0" encoding="utf-8"?>
<plugin id="com.serial.liveocr" version="1.0.0" xmlns="http://apache.org/cordova/ns/plugins/1.0" xmlns:android="http://schemas.android.com/apk/res/android">
  <name>cordova-plugin-live-ocr</name>
  <description>Live on-device OCR using CameraX + ML Kit</description>
  <license>MIT</license>
  <keywords>cordova, android, ocr, mlkit, camerax</keywords>
  <js-module src="www/liveocr.js" name="LiveOCR">
    <clobbers target="LiveOCR" />
  </js-module>

  <platform name="android">
    <preference name="AndroidXEnabled" default="true" />
    <config-file parent="/*" target="AndroidManifest.xml">
      <uses-permission android:name="android.permission.CAMERA" />
    </config-file>

    <source-file src="src/android/LiveOCR.java" target-dir="app/src/main/java/com/serial/liveocr" />

    <!-- CameraX -->
    <framework src="androidx.camera:camera-core:1.3.4" />
    <framework src="androidx.camera:camera-camera2:1.3.4" />
    <framework src="androidx.camera:camera-lifecycle:1.3.4" />
    <framework src="androidx.camera:camera-view:1.3.4" />

    <!-- Lifecycle -->
    <framework src="androidx.lifecycle:lifecycle-runtime:2.7.0" />

    <!-- ML Kit on-device text recognition (Latin) -->
    <framework src="com.google.mlkit:text-recognition:16.0.1" />
  </platform>
</plugin>
